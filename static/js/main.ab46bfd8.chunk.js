(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{127:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n(11),i=n.n(c),o=n(44),s=n(45);!function(t){t.PENDING="pending",t.REJECTED="rejected",t.FULFILLED="fulfilled"}(a||(a={}));var u={status:a.PENDING,city:"",activeCard:null,weatherByDays:[]},d=n(24),l=n.n(d),j=n(56),h=function(){var t=Object(j.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40");case 3:if(!(e=t.sent).ok){t.next=9;break}return t.next=7,e.json();case 7:return n=t.sent,t.abrupt("return",n);case 9:throw new Error("Something went wrong");case 12:throw t.prev=12,t.t0=t.catch(0),new Error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),p=n(41),b=n(42),f=n.n(b),m=function(t){return f()(t).format("DD")},v=function(t){return function(t,e){return t.map((function(t){return null===e||void 0===e?void 0:e.filter((function(e){return m(e.dt_txt)===t}))}))}(function(t){return Object(p.uniq)(null===t||void 0===t?void 0:t.map((function(t){return m(t.dt_txt)})))}(t),t)},x=function(t){return Math.round(t-273.15)},O=function(t,e){var n;return null===(n=t.filter((function(t){return t.includes(e)}))[0])||void 0===n?void 0:n.map((function(t){return{temp:x(t.main.temp),time:f.a.unix(t.dt).format("hh:mm a")}}))},w=Object(s.b)("weather/fetchWeather",Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h());case 1:case"end":return t.stop()}}),t)})))),g=Object(s.c)({name:"weather",initialState:u,reducers:{setActiveCard:function(t,e){t.activeCard=e.payload}},extraReducers:function(t){t.addCase(w.pending,(function(t){t.status=a.PENDING})),t.addCase(w.fulfilled,(function(t,e){var n,r,c,i=v(null===(n=e.payload)||void 0===n?void 0:n.list);t.activeCard=null===(r=e.payload)||void 0===r?void 0:r.list[0],t.city=null===(c=e.payload)||void 0===c?void 0:c.city.name,t.weatherByDays=i,t.status=a.FULFILLED})),t.addCase(w.rejected,(function(t){t.city="",t.weatherByDays=[],t.status=a.REJECTED}))}}),y=g.actions.setActiveCard,C=g.reducer,E=Object(s.a)({reducer:{weather:C}}),D=n(170),N=n(171),I=n(162),k=n(6),L=function(){return Object(k.jsx)(N.a,{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center",children:Object(k.jsx)(I.a,{"data-testid":"loader"})})},F=n(163),A=n(173),P=n(166),S=n(165),B=n(164),R=o.c,W=function(){var t,e=Object(o.b)(),n=R((function(t){return t.weather}));return{city:n.city,status:n.status,getActiveCard:n.activeCard,getWeather:function(){return e(w())},weatherItemsPerSlide:(t=n.weatherByDays,Object(p.chunk)(t,3).map((function(t){return t.map((function(t){return t[0]}))}))),setActiveCard:function(t){return e(y(t))},barChartData:O(n.weatherByDays,n.activeCard)}},G=n(81),J=Object(G.a)({root:{width:"30%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),M=function(t){var e,n,a,r=t.data,c=J(),i=W(),o=i.setActiveCard,s=i.getActiveCard,u=r.main,d=r.weather,l=r.dt,j=Object(p.isEqual)(s,r);return Object(k.jsx)(F.a,{className:c.root,raised:j,children:Object(k.jsx)(B.a,{onClick:function(){return o(r)},children:Object(k.jsxs)(S.a,{children:[Object(k.jsx)(P.a,{variant:"h3",children:x(null===u||void 0===u?void 0:u.temp)}),Object(k.jsx)(P.a,{className:c.pos,color:"textSecondary",children:"L: ".concat(x(null===u||void 0===u?void 0:u.temp_min)," H: ").concat(x(null===u||void 0===u?void 0:u.temp_max))}),Object(k.jsx)(P.a,{className:c.pos,color:"textSecondary",children:"".concat(null===(e=d[0])||void 0===e?void 0:e.main,", ").concat(null===(n=d[0])||void 0===n?void 0:n.description)}),Object(k.jsx)(P.a,{variant:"body2",component:"p",children:l&&f.a.unix(l).format("D\tMMM YYYY")}),Object(k.jsx)(A.a,{alt:"Weather",src:"https://openweathermap.org/img/wn/".concat(null===(a=d[0])||void 0===a?void 0:a.icon,"@2x.png")})]})})})},Y=function(t){var e=t.slide;return Object(k.jsx)(N.a,{display:"flex",height:"100%",alignItems:"center",justifyContent:"space-between",children:e.map((function(t){return Object(k.jsx)(M,{data:t})}))})},_=n(89),q=n.n(_),T=function(t){var e=t.className,n=W().weatherItemsPerSlide;return Object(k.jsx)(q.a,{className:e,autoPlay:!1,animation:"slide",indicators:!1,cycleNavigation:!1,navButtonsAlwaysVisible:!0,next:function(t,e){return console.log("we left ".concat(e,", and are now at ").concat(t))},prev:function(t,e){return console.log("we left ".concat(e,", and are now at ").concat(t))},children:n.map((function(t,e){return Object(k.jsx)(Y,{slide:t},e)}))})},U=n(92),z=n(9),H=n(37),V=function(){var t=W().barChartData,e=(null===t||void 0===t?void 0:t.length)>1?1:.1;return Object(k.jsx)(U.a,{children:Object(k.jsxs)(H.c,{data:t,children:[Object(k.jsx)(H.a,{}),Object(k.jsx)(H.e,{}),Object(k.jsx)(H.b,{valueField:"temp",argumentField:"time",barWidth:e}),Object(k.jsx)(H.d,{text:"Rest of the day"}),Object(k.jsx)(z.a,{})]})})},K=Object(G.a)({slideShow:{padding:"1rem 0",marginBottom:"2rem"}}),Q=function(){var t=K(),e=W().city;return Object(k.jsxs)("section",{"data-testid":"weather",children:[Object(k.jsx)(P.a,{variant:"h2",children:e}),Object(k.jsx)(T,{className:t.slideShow}),Object(k.jsx)(V,{})]})},X=function(){return Object(k.jsx)("h1",{children:"Not Found"})},Z=n(167),$=n(168),tt=n(91),et=n.n(tt),nt=n(172),at=n(66),rt=n(83),ct=n(21),it=Object(G.a)((function(t){return Object(rt.a)({root:{flexGrow:1},title:Object(at.a)({flexGrow:1,display:"none"},t.breakpoints.up("sm"),{display:"block"}),search:Object(at.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(ct.d)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(ct.d)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(at.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})})})),ot=function(){var t=it();return Object(k.jsx)("div",{className:t.root,children:Object(k.jsx)(Z.a,{position:"static",children:Object(k.jsxs)($.a,{children:[Object(k.jsx)(P.a,{className:t.title,variant:"h6",noWrap:!0,children:"Weather App"}),Object(k.jsxs)("div",{className:t.search,children:[Object(k.jsx)("div",{className:t.searchIcon,children:Object(k.jsx)(et.a,{})}),Object(k.jsx)(nt.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})]})]})})})},st=n(169),ut=function(){var t=W(),e=t.status,n=t.getWeather;Object(r.useEffect)((function(){n()}),[]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ot,{}),Object(k.jsx)(st.a,{className:"App",fixed:!0,children:function(){var t=a.PENDING,n=a.FULFILLED,r=a.REJECTED;return e===t?Object(k.jsx)(L,{}):e===n?Object(k.jsx)(Q,{}):e===r?Object(k.jsx)(X,{}):Object(k.jsx)(k.Fragment,{})}()})]})};i.a.render(Object(k.jsxs)(o.a,{store:E,children:[Object(k.jsx)(D.a,{}),Object(k.jsx)(ut,{})]}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.ab46bfd8.chunk.js.map