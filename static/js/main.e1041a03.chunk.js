(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{127:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n(11),i=n.n(c),o=n(44),s=n(45);!function(t){t.PENDING="pending",t.REJECTED="rejected",t.FULFILLED="fulfilled"}(a||(a={}));var u={status:a.PENDING,city:"",activeCard:null,weatherByDays:[]},d=n(24),l=n.n(d),j=n(56),p=function(){var t=Object(j.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40");case 3:if(!(e=t.sent).ok){t.next=9;break}return t.next=7,e.json();case 7:return n=t.sent,t.abrupt("return",n);case 9:throw new Error("Something went wrong");case 12:throw t.prev=12,t.t0=t.catch(0),new Error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),h=n(41),b=n(42),f=n.n(b),x=function(t){return function(t,e){return t.map((function(t){return null===e||void 0===e?void 0:e.filter((function(e){return f()(e.dt_txt).format("DD")===t}))}))}(function(t){return Object(h.uniq)(null===t||void 0===t?void 0:t.map((function(t){return f()(t.dt_txt).format("DD")})))}(t),t)},m=function(t){return Math.round(100*(t-273.15))/100},O=Object(s.b)("weather/fetchWeather",Object(j.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p());case 1:case"end":return t.stop()}}),t)})))),v=Object(s.c)({name:"weather",initialState:u,reducers:{setActiveCard:function(t,e){t.activeCard=e.payload}},extraReducers:function(t){t.addCase(O.pending,(function(t){t.status=a.PENDING})),t.addCase(O.fulfilled,(function(t,e){var n,r,c=x(null===(n=e.payload)||void 0===n?void 0:n.list);t.city=null===(r=e.payload)||void 0===r?void 0:r.city.name,t.weatherByDays=c,t.status=a.FULFILLED})),t.addCase(O.rejected,(function(t){t.city="",t.weatherByDays=[],t.status=a.REJECTED}))}}),w=v.actions.setActiveCard,y=v.reducer,g=Object(s.a)({reducer:{weather:y}}),E=n(170),C=n(171),N=n(162),D=n(6),I=function(){return Object(D.jsx)(C.a,{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center",children:Object(D.jsx)(N.a,{"data-testid":"loader"})})},k=n(163),L=n(173),F=n(166),A=n(165),P=n(164),S=o.c,B=function(){var t,e=Object(o.b)(),n=S((function(t){return t.weather}));return{city:n.city,status:n.status,getActiveCard:n.activeCard,getWeather:function(){return e(O())},weatherItemsPerSlide:(t=n.weatherByDays,Object(h.chunk)(t,3).map((function(t){return t.map((function(t){return t[0]}))}))),setActiveCard:function(t){return e(w(t))}}},R=n(81),W=Object(R.a)({root:{width:"30%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),G=function(t){var e,n,a,r=t.data,c=W(),i=B(),o=i.setActiveCard,s=i.getActiveCard,u=r.main,d=r.weather,l=r.dt,j=Object(h.isEqual)(s,r);return Object(D.jsx)(k.a,{className:c.root,raised:j,children:Object(D.jsx)(P.a,{onClick:function(){return o(r)},children:Object(D.jsxs)(A.a,{children:[Object(D.jsx)(F.a,{variant:"h3",children:m(null===u||void 0===u?void 0:u.temp)}),Object(D.jsx)(F.a,{className:c.pos,color:"textSecondary",children:"L: ".concat(m(null===u||void 0===u?void 0:u.temp_min)," H: ").concat(m(null===u||void 0===u?void 0:u.temp_max))}),Object(D.jsx)(F.a,{className:c.pos,color:"textSecondary",children:"".concat(null===(e=d[0])||void 0===e?void 0:e.main,", ").concat(null===(n=d[0])||void 0===n?void 0:n.description)}),Object(D.jsx)(F.a,{variant:"body2",component:"p",children:l&&f.a.unix(l).format("D\tMMM YYYY")}),Object(D.jsx)(L.a,{alt:"Weather",src:"http://openweathermap.org/img/wn/".concat(null===(a=d[0])||void 0===a?void 0:a.icon,"@2x.png")})]})})})},J=function(t){var e=t.slide;return Object(D.jsx)(C.a,{display:"flex",height:"100%",alignItems:"center",justifyContent:"space-between",children:e.map((function(t){return Object(D.jsx)(G,{data:t})}))})},M=n(89),Y=n.n(M),_=function(t){var e=t.className,n=B().weatherItemsPerSlide;return Object(D.jsx)(Y.a,{className:e,autoPlay:!1,animation:"slide",indicators:!1,cycleNavigation:!1,navButtonsAlwaysVisible:!0,next:function(t,e){return console.log("we left ".concat(e,", and are now at ").concat(t))},prev:function(t,e){return console.log("we left ".concat(e,", and are now at ").concat(t))},children:n.map((function(t,e){return Object(D.jsx)(J,{slide:t},e)}))})},q=n(92),T=n(37),U=n(9),z=[{year:"1950",population:2.525},{year:"1960",population:3.018},{year:"1970",population:3.682},{year:"1980",population:4.44},{year:"1990",population:5.31},{year:"2000",population:6.127},{year:"2010",population:6.93}],H=function(){return Object(D.jsx)(q.a,{children:Object(D.jsxs)(T.c,{data:z,children:[Object(D.jsx)(T.a,{}),Object(D.jsx)(T.e,{}),Object(D.jsx)(T.b,{valueField:"population",argumentField:"year"}),Object(D.jsx)(T.d,{text:"World population"}),Object(D.jsx)(U.a,{})]})})},V=Object(R.a)({slideShow:{padding:"1rem 0",marginBottom:"2rem"}}),K=function(){var t=V(),e=B().city;return Object(D.jsxs)("section",{"data-testid":"weather",children:[Object(D.jsx)(F.a,{variant:"h2",children:e}),Object(D.jsx)(_,{className:t.slideShow}),Object(D.jsx)(H,{})]})},Q=function(){return Object(D.jsx)("h1",{children:"Not Found"})},X=n(167),Z=n(168),$=n(91),tt=n.n($),et=n(172),nt=n(66),at=n(83),rt=n(21),ct=Object(R.a)((function(t){return Object(at.a)({root:{flexGrow:1},title:Object(nt.a)({flexGrow:1,display:"none"},t.breakpoints.up("sm"),{display:"block"}),search:Object(nt.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(rt.d)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(rt.d)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(nt.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})})})),it=function(){var t=ct();return Object(D.jsx)("div",{className:t.root,children:Object(D.jsx)(X.a,{position:"static",children:Object(D.jsxs)(Z.a,{children:[Object(D.jsx)(F.a,{className:t.title,variant:"h6",noWrap:!0,children:"Weather App"}),Object(D.jsxs)("div",{className:t.search,children:[Object(D.jsx)("div",{className:t.searchIcon,children:Object(D.jsx)(tt.a,{})}),Object(D.jsx)(et.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})]})]})})})},ot=n(169),st=function(){var t=B(),e=t.status,n=t.getWeather;Object(r.useEffect)((function(){n()}),[]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(it,{}),Object(D.jsx)(ot.a,{className:"App",fixed:!0,children:function(){var t=a.PENDING,n=a.FULFILLED,r=a.REJECTED;return e===t?Object(D.jsx)(I,{}):e===n?Object(D.jsx)(K,{}):e===r?Object(D.jsx)(Q,{}):Object(D.jsx)(D.Fragment,{})}()})]})};i.a.render(Object(D.jsxs)(o.a,{store:g,children:[Object(D.jsx)(E.a,{}),Object(D.jsx)(st,{})]}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.e1041a03.chunk.js.map